{"version":3,"sources":["../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/app/app.constants.ts","../../src/providers/location.service.ts","../../src/pages/location-details/location-details.ts","../../src/providers/hunt.service.ts","../../src/pages/location-list/location-list.ts","../../src/pages/hunt-details/hunt-details.ts","../../src/pages/location-add-hint/location-add-clue.ts","../../src/pages/location-qrcode/location-qrcode.ts","../../src/pages/location-add/location-add.ts","../../src/pages/hunt-add-locations/hunt-add-locations.ts","../../src/pages/hunt-create/hunt-create.ts","../../src/providers/session.data.ts","../../src/pages/search/search.ts","../../src/pages/my-hunts/my-hunts.ts","../../src/providers/user.service.ts","../../src/pages/welcome/welcome.ts","../../src/pages/account/account.ts","../../src/pages/tabs/tabs.ts","../../src/pages/tutorial/tutorial.ts","../../src/app/app.component.ts","../../src/app/app.module.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","Error","keys","module","exports","id","__decorate","this","decorators","target","key","desc","location_service___decorate","hunt_service___decorate","session_data___decorate","user_service___decorate"],"mappings":"oCAAA,SAAAA,EAAAC,GAGA,OAAAC,QAAAC,UAAAC,KAAA,WACA,MAAA,IAAAC,MAAA,uBAAAJ,EAAA,QAGAD,EAAAM,KAAA,WAA4C,UAC5CN,EAAAG,QAAAH,EACAO,EAAAC,QAAAR,EACAA,EAAAS,GAAA,uBCVA,SAAAT,EAAAC,GAGA,OAAAC,QAAAC,UAAAC,KAAA,WACA,MAAA,IAAAC,MAAA,uBAAAJ,EAAA,QAGAD,EAAAM,KAAA,WAA4C,UAC5CN,EAAAG,QAAAH,EACAO,EAAAC,QAAAR,EACAA,EAAAS,GAAA,yukGCVAC,GAAAC,MAAAA,KAAAD,YAAA,SAAAE,EAAAC,EAAAC,EAAAC,+bAUmB,4LAAA,aCVnBC,iBAAAL,MAAAA,KAAAD,YAAA,SAAAE,EAAAC,EAAAC,EAAAC,gcAeqB,w9BAAA,MCFI,4qCAAA,GCbzBE,GAAAN,MAAAA,KAAAD,YAAA,SAAAE,EAAAC,EAAAC,EAAAC,+bAeiB,6yEAAA,MCDK,o/BAAA,MCDD,olBAAA,6CCDI,8XAAA,oCCED,6kCAAA,MCEH,sqDAAA,MCFK,kwBAAA,MCAN,wwCAAA,GCdpBG,GAAAP,MAAAA,KAAAD,YAAA,SAAAE,EAAAC,EAAAC,EAAAC,+bAYiB,o4BAAA,MCGD,yrBAAA,MCCC,6xCAAA,YChBjBI,GAAAR,MAAAA,KAAAD,YAAA,SAAAE,EAAAC,EAAAC,EAAAC,+bAeiB,ulBAAA,MCMA,mxCAAA,MCFA,4qBAAA,MCDH,0uBAAA,MCLI,y0BAAA,MCMP,klEAAA,0BC6BI,+BAAA","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 180;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 180\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 198;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 198\n// module chunks = 0","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nvar Configuration = (function () {\r\n    function Configuration() {\r\n        this.Server = \"http://35.197.126.9:9000/\";\r\n        this.ApiUrl = \"api/\";\r\n        this.ServerWithApiUrl = this.Server + this.ApiUrl;\r\n    }\r\n    Configuration = __decorate([\r\n        Injectable(),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], Configuration);\r\n    return Configuration;\r\n}());\r\nexport { Configuration };\r\n//# sourceMappingURL=app.constants.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.constants.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Http, Headers, RequestOptions } from '@angular/http';\r\nimport { Configuration } from '../app/app.constants';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nvar LocationService = (function () {\r\n    function LocationService(http, config) {\r\n        this.http = http;\r\n        this.config = config;\r\n        this.serviceUrl = 'locations';\r\n        this.userHuntLocationUrl = 'userhuntlocations';\r\n        this.serviceUrl = this.config.ServerWithApiUrl + this.serviceUrl;\r\n        this.userHuntLocationUrl = this.config.ServerWithApiUrl + this.userHuntLocationUrl;\r\n    }\r\n    LocationService.prototype.getHuntLocationsByUser = function (userId, huntId) {\r\n        return this.http.get(this.serviceUrl + '/' + userId + '/' + huntId)\r\n            .map(function (res) { return res.json(); })\r\n            .catch(function (error) { return Observable.throw(error.json().message || 'Server error'); });\r\n    };\r\n    LocationService.prototype.checkIn = function (userId, locationId) {\r\n        var bodyString = JSON.stringify({ userId: userId, locationId: locationId, status: 'found' });\r\n        var headers = new Headers({ 'Content-Type': 'application/json' });\r\n        var options = new RequestOptions({ headers: headers });\r\n        return this.http.post(this.userHuntLocationUrl, bodyString, options)\r\n            .map(function (res) { return res.json(); })\r\n            .catch(function (error) { return Observable.throw(error.json().message || 'Server error'); });\r\n    };\r\n    LocationService = __decorate([\r\n        Injectable(),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof Http !== \"undefined\" && Http) === \"function\" && _a || Object, typeof (_b = typeof Configuration !== \"undefined\" && Configuration) === \"function\" && _b || Object])\r\n    ], LocationService);\r\n    return LocationService;\r\n    var _a, _b;\r\n}());\r\nexport { LocationService };\r\n//# sourceMappingURL=location.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/location.service.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, ModalController, NavParams, ToastController, Events } from 'ionic-angular';\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\r\nimport { LocationService } from '../../providers/location.service';\r\nvar LocationDetailsPage = (function () {\r\n    function LocationDetailsPage(navCtrl, events, modalCtrl, navParams, barcodeScanner, toastCtrl, locationService) {\r\n        this.navCtrl = navCtrl;\r\n        this.events = events;\r\n        this.modalCtrl = modalCtrl;\r\n        this.navParams = navParams;\r\n        this.barcodeScanner = barcodeScanner;\r\n        this.toastCtrl = toastCtrl;\r\n        this.locationService = locationService;\r\n        this.location = navParams.get('location');\r\n        this.user = navParams.get('user');\r\n    }\r\n    LocationDetailsPage.prototype.ionViewDidLoad = function () {\r\n    };\r\n    LocationDetailsPage.prototype.scan = function () {\r\n        var _this = this;\r\n        if (this.location.status == 'found') {\r\n            return;\r\n        }\r\n        this.options = {\r\n            prompt: \"Scan QR Code \"\r\n        };\r\n        this.barcodeScanner.scan(this.options).then(function (barcodeData) {\r\n            if (barcodeData.text == _this.location.qrToken) {\r\n                _this.locationService.checkIn(_this.user._id, _this.location._id).subscribe(function (result) {\r\n                    var toast = _this.toastCtrl.create({\r\n                        message: 'Congratulation You Found the secret!',\r\n                        showCloseButton: true,\r\n                        closeButtonText: 'Ok',\r\n                        duration: 3000\r\n                    });\r\n                    toast.present();\r\n                    _this.location.status = 'found';\r\n                    _this.events.publish('location:found');\r\n                    _this.navCtrl.pop();\r\n                });\r\n            }\r\n            else {\r\n                var toast = _this.toastCtrl.create({\r\n                    message: 'Ops! That QR Code is not the one you are looking for!',\r\n                    showCloseButton: true,\r\n                    closeButtonText: 'Ok',\r\n                    duration: 3000\r\n                });\r\n                toast.present();\r\n            }\r\n        }, function (err) {\r\n            console.log(\"Error occured : \" + err);\r\n            var toast = _this.toastCtrl.create({\r\n                message: 'Invalid QR code',\r\n                showCloseButton: true,\r\n                closeButtonText: 'Ok',\r\n                duration: 3000\r\n            });\r\n            toast.present();\r\n        });\r\n    };\r\n    LocationDetailsPage.prototype.showClue = function (clue) {\r\n        var toast = this.toastCtrl.create({\r\n            message: clue.message,\r\n            showCloseButton: true,\r\n            closeButtonText: 'Ok',\r\n            duration: 3000\r\n        });\r\n        toast.present();\r\n    };\r\n    LocationDetailsPage = __decorate([\r\n        Component({\r\n            selector: 'page-location-details',\r\n            templateUrl: 'location-details.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Events !== \"undefined\" && Events) === \"function\" && _b || Object, typeof (_c = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _c || Object, typeof (_d = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _d || Object, typeof (_e = typeof BarcodeScanner !== \"undefined\" && BarcodeScanner) === \"function\" && _e || Object, typeof (_f = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _f || Object, typeof (_g = typeof LocationService !== \"undefined\" && LocationService) === \"function\" && _g || Object])\r\n    ], LocationDetailsPage);\r\n    return LocationDetailsPage;\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n}());\r\nexport { LocationDetailsPage };\r\n//# sourceMappingURL=location-details.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location-details/location-details.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Http, Headers, RequestOptions } from '@angular/http';\r\nimport { Configuration } from '../app/app.constants';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nvar HuntService = (function () {\r\n    function HuntService(http, config) {\r\n        this.http = http;\r\n        this.config = config;\r\n        this.serviceUrl = 'hunts';\r\n        this.userHuntUrl = 'userhunts';\r\n        this.serviceUrl = this.config.ServerWithApiUrl + this.serviceUrl;\r\n        this.userHuntUrl = this.config.ServerWithApiUrl + this.userHuntUrl;\r\n    }\r\n    HuntService.prototype.getHunts = function () {\r\n        return this.http.get(this.serviceUrl)\r\n            .map(function (res) { return res.json(); })\r\n            .catch(function (error) { return Observable.throw(error.json().message || 'Server error'); });\r\n    };\r\n    HuntService.prototype.getHuntsByUserAndStatus = function (userId, status) {\r\n        return this.http.get(this.serviceUrl + '/' + userId + '/' + status)\r\n            .map(function (res) { return res.json(); })\r\n            .catch(function (error) { return Observable.throw(error.json().message || 'Server error'); });\r\n    };\r\n    HuntService.prototype.saveHunt = function (hunt) {\r\n        var bodyString = JSON.stringify(hunt);\r\n        var headers = new Headers({ 'Content-Type': 'application/json' });\r\n        var options = new RequestOptions({ headers: headers });\r\n        return this.http.post(this.serviceUrl, bodyString, options)\r\n            .map(function (res) { return res.json(); })\r\n            .catch(function (error) { return Observable.throw(error.json().message || 'Server error'); });\r\n    };\r\n    HuntService.prototype.updateHunt = function (hunt) {\r\n        var bodyString = JSON.stringify(hunt);\r\n        var headers = new Headers({ 'Content-Type': 'application/json' });\r\n        var options = new RequestOptions({ headers: headers });\r\n        return this.http.patch(this.serviceUrl, bodyString, options)\r\n            .map(function (res) { return res.json(); })\r\n            .catch(function (error) { return Observable.throw(error.json().message || 'Server error'); });\r\n    };\r\n    HuntService.prototype.deleteHunt = function (huntId) {\r\n        var bodyString = JSON.stringify({ huntId: huntId });\r\n        var headers = new Headers({ 'Content-Type': 'application/json' });\r\n        var options = new RequestOptions({ headers: headers });\r\n        return this.http.post(this.serviceUrl + '/delete', bodyString, options)\r\n            .map(function (res) { return res.json(); })\r\n            .catch(function (error) { return Observable.throw(error.json().message || 'Server error'); });\r\n    };\r\n    HuntService.prototype.activateHunt = function (userId, huntId) {\r\n        var bodyString = JSON.stringify({ userId: userId, huntId: huntId, status: 'active' });\r\n        var headers = new Headers({ 'Content-Type': 'application/json' });\r\n        var options = new RequestOptions({ headers: headers });\r\n        return this.http.post(this.userHuntUrl, bodyString, options)\r\n            .map(function (res) { return res.json(); })\r\n            .catch(function (error) { return Observable.throw(error.json().message || 'Server error'); });\r\n    };\r\n    HuntService.prototype.completeHunt = function (userId, huntId) {\r\n        var bodyString = JSON.stringify({ userId: userId, huntId: huntId, status: 'complete' });\r\n        var headers = new Headers({ 'Content-Type': 'application/json' });\r\n        var options = new RequestOptions({ headers: headers });\r\n        return this.http.patch(this.userHuntUrl, bodyString, options)\r\n            .map(function (res) { return res.json(); })\r\n            .catch(function (error) { return Observable.throw(error.json().message || 'Server error'); });\r\n    };\r\n    HuntService = __decorate([\r\n        Injectable(),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof Http !== \"undefined\" && Http) === \"function\" && _a || Object, typeof (_b = typeof Configuration !== \"undefined\" && Configuration) === \"function\" && _b || Object])\r\n    ], HuntService);\r\n    return HuntService;\r\n    var _a, _b;\r\n}());\r\nexport { HuntService };\r\n//# sourceMappingURL=hunt.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/hunt.service.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, ModalController, NavParams, ToastController, Events } from 'ionic-angular';\r\nimport { LocationDetailsPage } from '../location-details/location-details';\r\nimport { LocationService } from '../../providers/location.service';\r\nimport { HuntService } from '../../providers/hunt.service';\r\nvar LocationListPage = (function () {\r\n    function LocationListPage(navCtrl, events, navParams, modalCtrl, locationService, huntService, toastCtrl) {\r\n        var _this = this;\r\n        this.navCtrl = navCtrl;\r\n        this.events = events;\r\n        this.navParams = navParams;\r\n        this.modalCtrl = modalCtrl;\r\n        this.locationService = locationService;\r\n        this.huntService = huntService;\r\n        this.toastCtrl = toastCtrl;\r\n        this.hunt = navParams.get('hunt');\r\n        this.user = navParams.get('user');\r\n        this.locationService.getHuntLocationsByUser(this.user._id, this.hunt._id).subscribe(function (locations) {\r\n            _this.locations = locations;\r\n            _this.checkCompletion();\r\n        }, function (error) {\r\n            console.log(error);\r\n        });\r\n        this.events.subscribe('location:found', function () {\r\n            _this.checkCompletion();\r\n        });\r\n    }\r\n    LocationListPage.prototype.checkCompletion = function () {\r\n        var _this = this;\r\n        if (typeof this.hunt.status !== 'undefined') {\r\n            if (this.hunt.status != 'complete') {\r\n                if (this.locations.filter(function (location) { return location.status == 'found'; }).length == this.locations.length) {\r\n                    this.huntService.completeHunt(this.user._id, this.hunt._id).subscribe(function (result) {\r\n                        _this.hunt.status = 'complete';\r\n                        _this.events.publish('hunts:reload');\r\n                        var toast = _this.toastCtrl.create({\r\n                            message: 'Congratulation You Completed the Hunt!',\r\n                            showCloseButton: true,\r\n                            closeButtonText: 'Ok',\r\n                            duration: 3000\r\n                        });\r\n                        toast.present();\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LocationListPage.prototype.more = function (item) {\r\n        this.navCtrl.push(LocationDetailsPage, { location: item, user: this.user });\r\n    };\r\n    LocationListPage = __decorate([\r\n        Component({\r\n            selector: 'page-location-list',\r\n            templateUrl: 'location-list.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Events !== \"undefined\" && Events) === \"function\" && _b || Object, typeof (_c = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _c || Object, typeof (_d = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _d || Object, typeof (_e = typeof LocationService !== \"undefined\" && LocationService) === \"function\" && _e || Object, typeof (_f = typeof HuntService !== \"undefined\" && HuntService) === \"function\" && _f || Object, typeof (_g = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _g || Object])\r\n    ], LocationListPage);\r\n    return LocationListPage;\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n}());\r\nexport { LocationListPage };\r\n//# sourceMappingURL=location-list.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location-list/location-list.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, ModalController, NavParams, Events } from 'ionic-angular';\r\nimport { LocationListPage } from '../location-list/location-list';\r\nimport { HuntService } from '../../providers/hunt.service';\r\nvar HuntDetailsPage = (function () {\r\n    function HuntDetailsPage(navCtrl, events, modalCtrl, navParams, huntService) {\r\n        this.navCtrl = navCtrl;\r\n        this.events = events;\r\n        this.modalCtrl = modalCtrl;\r\n        this.navParams = navParams;\r\n        this.huntService = huntService;\r\n        this.hunt = navParams.get('hunt');\r\n        this.user = navParams.get('user');\r\n    }\r\n    HuntDetailsPage.prototype.start = function () {\r\n        var _this = this;\r\n        if (typeof this.hunt.status !== 'undefined' && (this.hunt.status == 'active' || this.hunt.status == 'complete')) {\r\n            return this.continue();\r\n        }\r\n        this.huntService.activateHunt(this.user._id, this.hunt._id).subscribe(function (result) {\r\n            _this.hunt.status = 'active';\r\n            _this.events.publish('hunts:reload');\r\n            _this.navCtrl.push(LocationListPage, { hunt: _this.hunt, user: _this.user });\r\n        });\r\n    };\r\n    HuntDetailsPage.prototype.continue = function () {\r\n        this.navCtrl.push(LocationListPage, { hunt: this.hunt, user: this.user });\r\n    };\r\n    HuntDetailsPage = __decorate([\r\n        Component({\r\n            selector: 'page-hunt-details',\r\n            templateUrl: 'hunt-details.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Events !== \"undefined\" && Events) === \"function\" && _b || Object, typeof (_c = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _c || Object, typeof (_d = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _d || Object, typeof (_e = typeof HuntService !== \"undefined\" && HuntService) === \"function\" && _e || Object])\r\n    ], HuntDetailsPage);\r\n    return HuntDetailsPage;\r\n    var _a, _b, _c, _d, _e;\r\n}());\r\nexport { HuntDetailsPage };\r\n//# sourceMappingURL=hunt-details.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hunt-details/hunt-details.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavParams, ViewController } from 'ionic-angular';\r\nimport { Validators, FormBuilder } from '@angular/forms';\r\nvar LocationAddCluePage = (function () {\r\n    function LocationAddCluePage(params, viewCtrl, formBuilder) {\r\n        this.viewCtrl = viewCtrl;\r\n        this.formBuilder = formBuilder;\r\n        this.clueForm = this.formBuilder.group({\r\n            message: ['', Validators.compose([Validators.required])]\r\n        });\r\n        this.clue = { message: '' };\r\n    }\r\n    LocationAddCluePage.prototype.dismiss = function () {\r\n        this.viewCtrl.dismiss();\r\n    };\r\n    LocationAddCluePage.prototype.submitClue = function () {\r\n        if (this.clueForm.valid) {\r\n            var form = this.clueForm.value;\r\n            this.clue.message = form.message;\r\n            this.viewCtrl.dismiss(this.clue);\r\n        }\r\n    };\r\n    LocationAddCluePage = __decorate([\r\n        Component({\r\n            selector: 'page-location-add-clue',\r\n            templateUrl: 'location-add-clue.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _a || Object, typeof (_b = typeof ViewController !== \"undefined\" && ViewController) === \"function\" && _b || Object, typeof (_c = typeof FormBuilder !== \"undefined\" && FormBuilder) === \"function\" && _c || Object])\r\n    ], LocationAddCluePage);\r\n    return LocationAddCluePage;\r\n    var _a, _b, _c;\r\n}());\r\nexport { LocationAddCluePage };\r\n//# sourceMappingURL=location-add-clue.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location-add-hint/location-add-clue.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NavParams, ViewController, ToastController, LoadingController } from 'ionic-angular';\r\nimport { Base64ToGallery } from '@ionic-native/base64-to-gallery';\r\nimport { Printer } from '@ionic-native/printer';\r\nimport { NgxQRCodeComponent } from 'ngx-qrcode2';\r\nvar LocationQRCodePage = (function () {\r\n    function LocationQRCodePage(navParams, viewCtrl, printer, base64ToGallery, toastCtrl, loadingCtrl) {\r\n        this.viewCtrl = viewCtrl;\r\n        this.printer = printer;\r\n        this.base64ToGallery = base64ToGallery;\r\n        this.toastCtrl = toastCtrl;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.qrcode = navParams.get('qrcode');\r\n    }\r\n    LocationQRCodePage.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.qrcodeImage.toDataURL().then(function (imgData) {\r\n            _this.imageData = imgData;\r\n        }, function (error) {\r\n            console.log(error);\r\n        });\r\n    };\r\n    LocationQRCodePage.prototype.dismiss = function () {\r\n        this.viewCtrl.dismiss();\r\n    };\r\n    LocationQRCodePage.prototype.saveImage = function () {\r\n        var _this = this;\r\n        var loading = this.loadingCtrl.create({ content: 'Loading...' });\r\n        this.base64ToGallery.base64ToGallery(this.imageData, { prefix: 'bluesky_' }).then(function (path) {\r\n            loading.dismiss();\r\n            var toast = _this.toastCtrl.create({\r\n                message: 'QR Code Saved Successfully in your Gallery',\r\n                showCloseButton: true,\r\n                closeButtonText: 'Ok',\r\n                duration: 3000\r\n            });\r\n            toast.present();\r\n        }, function (error) {\r\n            loading.dismiss();\r\n            console.log(error);\r\n        });\r\n    };\r\n    LocationQRCodePage.prototype.print = function () {\r\n        var _this = this;\r\n        this.printer.check().then(function (data) {\r\n            if (data) {\r\n                _this.printer.pick().then(function (uri) {\r\n                    var options = {\r\n                        name: 'QRCode',\r\n                        printerId: uri,\r\n                        duplex: true,\r\n                        landscape: true,\r\n                        grayscale: true\r\n                    };\r\n                    _this.printer.print(_this.qrcodeImage.qrcElement.nativeElement, options).then(function (print) {\r\n                        console.log(print);\r\n                    }, function (error) {\r\n                        console.log(error);\r\n                    });\r\n                }, function (error) {\r\n                    console.log(error);\r\n                });\r\n            }\r\n        }, function (error) {\r\n            console.log(error);\r\n        });\r\n    };\r\n    __decorate([\r\n        ViewChild('qrcodeImage'),\r\n        __metadata(\"design:type\", typeof (_a = typeof NgxQRCodeComponent !== \"undefined\" && NgxQRCodeComponent) === \"function\" && _a || Object)\r\n    ], LocationQRCodePage.prototype, \"qrcodeImage\", void 0);\r\n    LocationQRCodePage = __decorate([\r\n        Component({\r\n            selector: 'page-location-qrcode',\r\n            templateUrl: 'location-qrcode.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_b = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _b || Object, typeof (_c = typeof ViewController !== \"undefined\" && ViewController) === \"function\" && _c || Object, typeof (_d = typeof Printer !== \"undefined\" && Printer) === \"function\" && _d || Object, typeof (_e = typeof Base64ToGallery !== \"undefined\" && Base64ToGallery) === \"function\" && _e || Object, typeof (_f = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _f || Object, typeof (_g = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _g || Object])\r\n    ], LocationQRCodePage);\r\n    return LocationQRCodePage;\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n}());\r\nexport { LocationQRCodePage };\r\n//# sourceMappingURL=location-qrcode.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location-qrcode/location-qrcode.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavParams, ViewController, ToastController, ModalController } from 'ionic-angular';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { Validators, FormBuilder } from '@angular/forms';\r\nimport CryptoJS from 'crypto-js';\r\nimport { LocationAddCluePage } from '../location-add-hint/location-add-clue';\r\nimport { LocationQRCodePage } from '../location-qrcode/location-qrcode';\r\nvar LocationAddPage = (function () {\r\n    function LocationAddPage(navParams, viewCtrl, camera, formBuilder, toastCtrl, modal) {\r\n        this.viewCtrl = viewCtrl;\r\n        this.camera = camera;\r\n        this.formBuilder = formBuilder;\r\n        this.toastCtrl = toastCtrl;\r\n        this.modal = modal;\r\n        this.location = { _id: '', description: '', clues: [], name: '', imageUrl: '', qrToken: CryptoJS.HmacSHA256(Date.now(), Date.now().toString()).toString(CryptoJS.enc.Base64), status: '' };\r\n        if (typeof navParams.get('location') !== 'undefined') {\r\n            this.location = navParams.get('location');\r\n        }\r\n        this.locationForm = this.formBuilder.group({\r\n            name: [this.location.name, Validators.compose([Validators.required])],\r\n            short_description: [this.location.description, Validators.compose([Validators.required])]\r\n        });\r\n    }\r\n    LocationAddPage.prototype.dismiss = function () {\r\n        this.viewCtrl.dismiss();\r\n    };\r\n    LocationAddPage.prototype.submitLocation = function () {\r\n        if (this.locationForm.valid && this.location.imageUrl != '') {\r\n            var form = this.locationForm.value;\r\n            this.location.name = form.name;\r\n            this.location.description = form.short_description;\r\n            if (this.location._id == '') {\r\n                delete this.location._id;\r\n            }\r\n            this.viewCtrl.dismiss(this.location);\r\n        }\r\n    };\r\n    LocationAddPage.prototype.showClue = function (clue) {\r\n        var toast = this.toastCtrl.create({\r\n            message: clue.message,\r\n            showCloseButton: true,\r\n            closeButtonText: 'Ok',\r\n            duration: 3000\r\n        });\r\n        toast.present();\r\n    };\r\n    LocationAddPage.prototype.addClue = function () {\r\n        var _this = this;\r\n        var modal = this.modal.create(LocationAddCluePage);\r\n        modal.onDidDismiss(function (data) {\r\n            if (data) {\r\n                _this.location.clues.push(data);\r\n            }\r\n        });\r\n        modal.present();\r\n    };\r\n    LocationAddPage.prototype.showQRCode = function () {\r\n        var modal = this.modal.create(LocationQRCodePage, { qrcode: this.location.qrToken });\r\n        modal.present();\r\n    };\r\n    LocationAddPage.prototype.selectPicture = function (takePicture) {\r\n        var _this = this;\r\n        var options = {\r\n            quality: 60,\r\n            destinationType: this.camera.DestinationType.DATA_URL,\r\n            encodingType: this.camera.EncodingType.JPEG,\r\n            mediaType: this.camera.MediaType.PICTURE,\r\n            sourceType: takePicture ? this.camera.PictureSourceType.CAMERA : this.camera.PictureSourceType.SAVEDPHOTOALBUM,\r\n            targetHeight: 200,\r\n            targetWidth: 350,\r\n            correctOrientation: true\r\n        };\r\n        this.camera.getPicture(options).then(function (imageData) {\r\n            // imageData is either a base64 encoded string or a file URI\r\n            // If it's base64:\r\n            var base64Image = 'data:image/jpeg;base64,' + imageData;\r\n            _this.location.imageUrl = base64Image;\r\n        }, function (err) {\r\n            // Handle error\r\n        });\r\n    };\r\n    LocationAddPage = __decorate([\r\n        Component({\r\n            selector: 'page-location-add',\r\n            templateUrl: 'location-add.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _a || Object, typeof (_b = typeof ViewController !== \"undefined\" && ViewController) === \"function\" && _b || Object, typeof (_c = typeof Camera !== \"undefined\" && Camera) === \"function\" && _c || Object, typeof (_d = typeof FormBuilder !== \"undefined\" && FormBuilder) === \"function\" && _d || Object, typeof (_e = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _e || Object, typeof (_f = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _f || Object])\r\n    ], LocationAddPage);\r\n    return LocationAddPage;\r\n    var _a, _b, _c, _d, _e, _f;\r\n}());\r\nexport { LocationAddPage };\r\n//# sourceMappingURL=location-add.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location-add/location-add.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, ModalController, NavParams } from 'ionic-angular';\r\nimport { LocationAddPage } from '../location-add/location-add';\r\nimport { MyHuntsPage } from '../my-hunts/my-hunts';\r\nimport { HuntService } from '../../providers/hunt.service';\r\nvar HuntAddLocationsPage = (function () {\r\n    function HuntAddLocationsPage(navCtrl, navParams, modal, huntService) {\r\n        this.navCtrl = navCtrl;\r\n        this.navParams = navParams;\r\n        this.modal = modal;\r\n        this.huntService = huntService;\r\n        this.hunt = navParams.get('hunt');\r\n    }\r\n    HuntAddLocationsPage.prototype.ionViewDidLoad = function () { };\r\n    HuntAddLocationsPage.prototype.publishHunt = function () {\r\n        var _this = this;\r\n        if (this.hunt._id != '') {\r\n            this.huntService.updateHunt(this.hunt).subscribe(function (hunt) {\r\n                console.log(hunt);\r\n                _this.navCtrl.setRoot(MyHuntsPage);\r\n            });\r\n        }\r\n        else {\r\n            this.huntService.saveHunt(this.hunt).subscribe(function (hunt) {\r\n                console.log(hunt);\r\n                _this.navCtrl.setRoot(MyHuntsPage);\r\n            });\r\n        }\r\n    };\r\n    HuntAddLocationsPage.prototype.editLocation = function (location) {\r\n        var _this = this;\r\n        var modal = this.modal.create(LocationAddPage, { location: location });\r\n        modal.onDidDismiss(function (data) {\r\n            if (data) {\r\n                var index = _this.hunt.locations.indexOf(location);\r\n                _this.hunt.locations.splice(index, 1, data);\r\n            }\r\n        });\r\n        modal.present();\r\n    };\r\n    HuntAddLocationsPage.prototype.addLocation = function () {\r\n        var _this = this;\r\n        var modal = this.modal.create(LocationAddPage);\r\n        modal.onDidDismiss(function (data) {\r\n            if (data) {\r\n                _this.hunt.locations.push(data);\r\n            }\r\n        });\r\n        modal.present();\r\n    };\r\n    HuntAddLocationsPage = __decorate([\r\n        Component({\r\n            selector: 'page-hunt-add-locations',\r\n            templateUrl: 'hunt-add-locations.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _b || Object, typeof (_c = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _c || Object, typeof (_d = typeof HuntService !== \"undefined\" && HuntService) === \"function\" && _d || Object])\r\n    ], HuntAddLocationsPage);\r\n    return HuntAddLocationsPage;\r\n    var _a, _b, _c, _d;\r\n}());\r\nexport { HuntAddLocationsPage };\r\n//# sourceMappingURL=hunt-add-locations.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hunt-add-locations/hunt-add-locations.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { Validators, FormBuilder } from '@angular/forms';\r\nimport { HuntAddLocationsPage } from '../hunt-add-locations/hunt-add-locations';\r\nvar HuntCreatePage = (function () {\r\n    function HuntCreatePage(navCtrl, navParams, camera, formBuilder) {\r\n        this.navCtrl = navCtrl;\r\n        this.navParams = navParams;\r\n        this.camera = camera;\r\n        this.formBuilder = formBuilder;\r\n        if (typeof navParams.get('hunt') !== 'undefined') {\r\n            this.hunt = navParams.get('hunt');\r\n        }\r\n        else {\r\n            this.hunt = { _id: '', imageUrl: '', shortDescription: '', name: '', isDeleted: false, owner: navParams.get('user'), longDescription: '', locations: [] };\r\n        }\r\n        this.huntForm = this.formBuilder.group({\r\n            name: [this.hunt.name, Validators.compose([Validators.required])],\r\n            short_description: [this.hunt.shortDescription, Validators.compose([Validators.required])],\r\n            long_description: [this.hunt.longDescription, Validators.compose([Validators.required])]\r\n        });\r\n    }\r\n    HuntCreatePage.prototype.next = function () {\r\n        if (this.huntForm.valid && this.hunt.imageUrl != '') {\r\n            var form = this.huntForm.value;\r\n            this.hunt.name = form.name;\r\n            this.hunt.shortDescription = form.short_description;\r\n            this.hunt.longDescription = form.long_description;\r\n            this.navCtrl.push(HuntAddLocationsPage, { hunt: this.hunt });\r\n        }\r\n    };\r\n    HuntCreatePage.prototype.deleteImage = function () {\r\n        this.hunt.imageUrl = '';\r\n    };\r\n    HuntCreatePage.prototype.selectPicture = function (takePicture) {\r\n        var _this = this;\r\n        var options = {\r\n            quality: 60,\r\n            destinationType: this.camera.DestinationType.DATA_URL,\r\n            encodingType: this.camera.EncodingType.JPEG,\r\n            mediaType: this.camera.MediaType.PICTURE,\r\n            sourceType: takePicture ? this.camera.PictureSourceType.CAMERA : this.camera.PictureSourceType.SAVEDPHOTOALBUM,\r\n            targetHeight: 200,\r\n            targetWidth: 350,\r\n            correctOrientation: true\r\n        };\r\n        this.camera.getPicture(options).then(function (imageData) {\r\n            // imageData is either a base64 encoded string or a file URI\r\n            // If it's base64:\r\n            var base64Image = 'data:image/jpeg;base64,' + imageData;\r\n            _this.hunt.imageUrl = base64Image;\r\n        }, function (err) {\r\n            // Handle error\r\n        });\r\n    };\r\n    HuntCreatePage = __decorate([\r\n        Component({\r\n            selector: 'page-hunt-create',\r\n            templateUrl: 'hunt-create.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _b || Object, typeof (_c = typeof Camera !== \"undefined\" && Camera) === \"function\" && _c || Object, typeof (_d = typeof FormBuilder !== \"undefined\" && FormBuilder) === \"function\" && _d || Object])\r\n    ], HuntCreatePage);\r\n    return HuntCreatePage;\r\n    var _a, _b, _c, _d;\r\n}());\r\nexport { HuntCreatePage };\r\n//# sourceMappingURL=hunt-create.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/hunt-create/hunt-create.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Events } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\nvar SessionData = (function () {\r\n    function SessionData(events, storage) {\r\n        this.events = events;\r\n        this.storage = storage;\r\n        this.HAS_LOGGED_IN = 'hasLoggedIn';\r\n    }\r\n    SessionData.prototype.login = function (user) {\r\n        this.storage.set(this.HAS_LOGGED_IN, true);\r\n        this.setUser(user);\r\n        this.events.publish('user:login');\r\n    };\r\n    SessionData.prototype.logout = function () {\r\n        this.storage.remove(this.HAS_LOGGED_IN);\r\n        this.removeUser();\r\n        this.events.publish('user:logout');\r\n    };\r\n    SessionData.prototype.removeUser = function () {\r\n        this.storage.remove('user');\r\n    };\r\n    SessionData.prototype.setUser = function (user) {\r\n        this.storage.set('user', user);\r\n    };\r\n    SessionData.prototype.getUser = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            _this.storage.get('user').then(function (value) { return resolve(value); });\r\n        });\r\n    };\r\n    SessionData.prototype.hasLoggedIn = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            _this.storage.get(_this.HAS_LOGGED_IN).then(function (value) { return resolve(value); });\r\n        });\r\n    };\r\n    SessionData = __decorate([\r\n        Injectable(),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof Events !== \"undefined\" && Events) === \"function\" && _a || Object, typeof (_b = typeof Storage !== \"undefined\" && Storage) === \"function\" && _b || Object])\r\n    ], SessionData);\r\n    return SessionData;\r\n    var _a, _b;\r\n}());\r\nexport { SessionData };\r\n//# sourceMappingURL=session.data.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/session.data.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { HuntDetailsPage } from '../hunt-details/hunt-details';\r\nimport { HuntService } from '../../providers/hunt.service';\r\nimport { SessionData } from '../../providers/session.data';\r\nvar SearchPage = (function () {\r\n    function SearchPage(navCtrl, translateService, huntService, sessionData) {\r\n        this.navCtrl = navCtrl;\r\n        this.translateService = translateService;\r\n        this.huntService = huntService;\r\n        this.sessionData = sessionData;\r\n        this.currentHunts = [];\r\n        this.hunts = [];\r\n    }\r\n    SearchPage.prototype.ngAfterViewInit = function () {\r\n        this.getUserData();\r\n    };\r\n    SearchPage.prototype.getUserData = function () {\r\n        var _this = this;\r\n        return this.sessionData.getUser().then(function (user) {\r\n            _this.user = user;\r\n            _this.huntService.getHunts().subscribe(function (hunts) {\r\n                _this.hunts = hunts;\r\n            });\r\n            return;\r\n        });\r\n    };\r\n    SearchPage.prototype.getHunts = function (event) {\r\n        var value = event.target.value;\r\n        if (!value || !value.trim()) {\r\n            this.currentHunts = [];\r\n            return;\r\n        }\r\n        this.currentHunts = this.hunts.filter(function (hunt) {\r\n            return (hunt.name.toLowerCase().indexOf(value.toLowerCase()) > -1)\r\n                || (hunt.shortDescription.toLowerCase().indexOf(value.toLowerCase()) > -1);\r\n        });\r\n    };\r\n    SearchPage.prototype.openHunt = function (hunt) {\r\n        this.navCtrl.push(HuntDetailsPage, {\r\n            hunt: hunt,\r\n            user: this.user\r\n        });\r\n    };\r\n    SearchPage = __decorate([\r\n        Component({\r\n            selector: 'page-search',\r\n            templateUrl: 'search.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof TranslateService !== \"undefined\" && TranslateService) === \"function\" && _b || Object, typeof (_c = typeof HuntService !== \"undefined\" && HuntService) === \"function\" && _c || Object, typeof (_d = typeof SessionData !== \"undefined\" && SessionData) === \"function\" && _d || Object])\r\n    ], SearchPage);\r\n    return SearchPage;\r\n    var _a, _b, _c, _d;\r\n}());\r\nexport { SearchPage };\r\n//# sourceMappingURL=search.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, ModalController, Events } from 'ionic-angular';\r\nimport { HuntDetailsPage } from '../hunt-details/hunt-details';\r\nimport { HuntCreatePage } from '../hunt-create/hunt-create';\r\nimport { SearchPage } from '../search/search';\r\nimport { SessionData } from '../../providers/session.data';\r\nimport { HuntService } from '../../providers/hunt.service';\r\nvar MyHuntsPage = (function () {\r\n    function MyHuntsPage(navCtrl, events, modalCtrl, sessionData, huntService) {\r\n        var _this = this;\r\n        this.navCtrl = navCtrl;\r\n        this.events = events;\r\n        this.modalCtrl = modalCtrl;\r\n        this.sessionData = sessionData;\r\n        this.huntService = huntService;\r\n        this.events.subscribe('hunts:reload', function () {\r\n            _this.loadData();\r\n        });\r\n    }\r\n    MyHuntsPage.prototype.loadData = function () {\r\n        var _this = this;\r\n        this.huntService.getHuntsByUserAndStatus(this.user._id, 'active').subscribe(function (hunts) {\r\n            _this.activeHunts = hunts;\r\n        });\r\n        this.huntService.getHuntsByUserAndStatus(this.user._id, 'owned').subscribe(function (hunts) {\r\n            _this.myHunts = hunts;\r\n        });\r\n        this.huntService.getHuntsByUserAndStatus(this.user._id, 'complete').subscribe(function (hunts) {\r\n            _this.completedHunts = hunts;\r\n        });\r\n    };\r\n    MyHuntsPage.prototype.ngAfterViewInit = function () {\r\n        this.getUserData();\r\n    };\r\n    MyHuntsPage.prototype.getUserData = function () {\r\n        var _this = this;\r\n        return this.sessionData.getUser().then(function (user) {\r\n            _this.user = user;\r\n            _this.loadData();\r\n            return;\r\n        });\r\n    };\r\n    MyHuntsPage.prototype.addHunt = function () {\r\n        this.navCtrl.push(HuntCreatePage, { user: this.user });\r\n    };\r\n    MyHuntsPage.prototype.joinHunt = function () {\r\n        this.navCtrl.push(SearchPage);\r\n    };\r\n    MyHuntsPage.prototype.archive = function (item) {\r\n        var _this = this;\r\n        this.huntService.deleteHunt(item._id).subscribe(function (result) {\r\n            _this.completedHunts = _this.completedHunts.filter(function (hunt) { return hunt !== item; });\r\n            _this.activeHunts = _this.activeHunts.filter(function (hunt) { return hunt !== item; });\r\n            _this.myHunts = _this.myHunts.filter(function (hunt) { return hunt !== item; });\r\n        });\r\n    };\r\n    MyHuntsPage.prototype.editHunt = function (item) {\r\n        this.navCtrl.push(HuntCreatePage, { user: this.user, hunt: item });\r\n    };\r\n    MyHuntsPage.prototype.more = function (item) {\r\n        this.navCtrl.push(HuntDetailsPage, { hunt: item, user: this.user });\r\n    };\r\n    MyHuntsPage = __decorate([\r\n        Component({\r\n            selector: 'page-my-hunts',\r\n            templateUrl: 'my-hunts.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof Events !== \"undefined\" && Events) === \"function\" && _b || Object, typeof (_c = typeof ModalController !== \"undefined\" && ModalController) === \"function\" && _c || Object, typeof (_d = typeof SessionData !== \"undefined\" && SessionData) === \"function\" && _d || Object, typeof (_e = typeof HuntService !== \"undefined\" && HuntService) === \"function\" && _e || Object])\r\n    ], MyHuntsPage);\r\n    return MyHuntsPage;\r\n    var _a, _b, _c, _d, _e;\r\n}());\r\nexport { MyHuntsPage };\r\n//# sourceMappingURL=my-hunts.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-hunts/my-hunts.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { Http, Headers, RequestOptions } from '@angular/http';\r\nimport { Configuration } from '../app/app.constants';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nvar UserService = (function () {\r\n    function UserService(http, config) {\r\n        this.http = http;\r\n        this.config = config;\r\n        this.serviceUrl = 'users';\r\n        this.serviceUrl = this.config.ServerWithApiUrl + this.serviceUrl;\r\n    }\r\n    UserService.prototype.loginOrSignUp = function (body) {\r\n        var bodyString = JSON.stringify(body);\r\n        var headers = new Headers({ 'Content-Type': 'application/json' });\r\n        var options = new RequestOptions({ headers: headers });\r\n        return this.http.post(this.serviceUrl, bodyString, options)\r\n            .map(function (res) { return res.json(); })\r\n            .catch(function (error) { return Observable.throw(error.json().message || 'Server error'); });\r\n    };\r\n    UserService = __decorate([\r\n        Injectable(),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof Http !== \"undefined\" && Http) === \"function\" && _a || Object, typeof (_b = typeof Configuration !== \"undefined\" && Configuration) === \"function\" && _b || Object])\r\n    ], UserService);\r\n    return UserService;\r\n    var _a, _b;\r\n}());\r\nexport { UserService };\r\n//# sourceMappingURL=user.service.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user.service.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, LoadingController, ToastController } from 'ionic-angular';\r\nimport { TabsPage } from '../tabs/tabs';\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\nimport { SessionData } from '../../providers/session.data';\r\nimport { UserService } from '../../providers/user.service';\r\n/**\r\n * The Welcome Page is a splash page that quickly describes the app,\r\n * and then directs the user to create an account or log in.\r\n * If you'd like to immediately put the user onto a login/signup page,\r\n * we recommend not using the Welcome page.\r\n*/\r\nvar WelcomePage = (function () {\r\n    function WelcomePage(navCtrl, googlePlus, sessionData, userService, loadingCtrl, toastCtrl) {\r\n        this.navCtrl = navCtrl;\r\n        this.googlePlus = googlePlus;\r\n        this.sessionData = sessionData;\r\n        this.userService = userService;\r\n        this.loadingCtrl = loadingCtrl;\r\n        this.toastCtrl = toastCtrl;\r\n    }\r\n    WelcomePage.prototype.signupGoogle = function () {\r\n        var _this = this;\r\n        var loading = this.loadingCtrl.create({ content: 'Loading...' });\r\n        this.googlePlus.login({\r\n            'webClientId': '642810877670-e6ucbbgl8u53tie8mmac9iv73v02v4ma.apps.googleusercontent.com'\r\n        }).then(function (response) {\r\n            if (response) {\r\n                response.organizer = false;\r\n                _this.userService.loginOrSignUp(response).subscribe(function (user) {\r\n                    loading.dismiss();\r\n                    if (user) {\r\n                        response._id = user._id;\r\n                        response.organizer = user.organizer;\r\n                        _this.sessionData.login(response);\r\n                        _this.navCtrl.setRoot(TabsPage);\r\n                    }\r\n                    else {\r\n                        _this.showMessage('API Login/Signup failed');\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                loading.dismiss();\r\n                _this.showMessage('Google Plus Login/SignUp failed');\r\n            }\r\n        }, function (error) {\r\n            loading.dismiss();\r\n            console.log(error);\r\n        });\r\n    };\r\n    //Creating dummy user to skip the login process in the browser (GooglePlus only works running the app in the device)\r\n    WelcomePage.prototype.testLogin = function () {\r\n        var _this = this;\r\n        var loading = this.loadingCtrl.create({ content: 'Loading...' });\r\n        var dummyUser = { _id: '', displayName: 'Test User', email: 'test@cmu.edu', familyName: 'User', givenName: 'Test', idToken: '0', imageUrl: 'http://www.gravatar.com/avatar?d=mm&s=140', userId: 0, organizer: true };\r\n        this.userService.loginOrSignUp(dummyUser).subscribe(function (user) {\r\n            loading.dismiss();\r\n            if (user) {\r\n                dummyUser._id = user._id;\r\n                dummyUser.organizer = user.organizer;\r\n                _this.sessionData.login(dummyUser);\r\n                _this.navCtrl.setRoot(TabsPage);\r\n            }\r\n            else {\r\n                _this.showMessage('API Login/Signup failed');\r\n            }\r\n        });\r\n    };\r\n    WelcomePage.prototype.showMessage = function (message) {\r\n        var toast = this.toastCtrl.create({\r\n            message: message,\r\n            showCloseButton: true,\r\n            closeButtonText: 'Ok',\r\n            duration: 3000\r\n        });\r\n        toast.present();\r\n    };\r\n    WelcomePage = __decorate([\r\n        Component({\r\n            selector: 'page-welcome',\r\n            templateUrl: 'welcome.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof GooglePlus !== \"undefined\" && GooglePlus) === \"function\" && _b || Object, typeof (_c = typeof SessionData !== \"undefined\" && SessionData) === \"function\" && _c || Object, typeof (_d = typeof UserService !== \"undefined\" && UserService) === \"function\" && _d || Object, typeof (_e = typeof LoadingController !== \"undefined\" && LoadingController) === \"function\" && _e || Object, typeof (_f = typeof ToastController !== \"undefined\" && ToastController) === \"function\" && _f || Object])\r\n    ], WelcomePage);\r\n    return WelcomePage;\r\n    var _a, _b, _c, _d, _e, _f;\r\n}());\r\nexport { WelcomePage };\r\n//# sourceMappingURL=welcome.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/welcome/welcome.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { NavController, NavParams, App } from 'ionic-angular';\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\nimport { WelcomePage } from '../welcome/welcome';\r\nimport { SessionData } from '../../providers/session.data';\r\n/**\r\n * The Settings page is a simple form that syncs with a Settings provider\r\n * to enable the user to customize settings for the app.\r\n *\r\n */\r\nvar AccountPage = (function () {\r\n    function AccountPage(app, nav, navParams, sessionData, googlePlus) {\r\n        var _this = this;\r\n        this.app = app;\r\n        this.nav = nav;\r\n        this.navParams = navParams;\r\n        this.sessionData = sessionData;\r\n        this.googlePlus = googlePlus;\r\n        this.sessionData.hasLoggedIn().then(function (hasLoggedIn) {\r\n            if (hasLoggedIn !== true) {\r\n                _this.logout();\r\n            }\r\n        });\r\n    }\r\n    AccountPage.prototype.ionViewDidLoad = function () {\r\n        // Build an empty form for the template to render\r\n    };\r\n    AccountPage.prototype.ngAfterViewInit = function () {\r\n        this.getUserData();\r\n    };\r\n    AccountPage.prototype.getUserData = function () {\r\n        var _this = this;\r\n        return this.sessionData.getUser().then(function (user) {\r\n            _this.user = user;\r\n            return;\r\n        });\r\n    };\r\n    AccountPage.prototype.logout = function () {\r\n        this.user = null;\r\n        this.sessionData.logout();\r\n        this.googlePlus.logout();\r\n        this.app.getRootNavs()[0].setRoot(WelcomePage);\r\n    };\r\n    AccountPage.prototype.changeUser = function () {\r\n        this.user = null;\r\n        this.sessionData.logout();\r\n        this.googlePlus.disconnect();\r\n        this.app.getRootNavs()[0].setRoot(WelcomePage);\r\n    };\r\n    AccountPage = __decorate([\r\n        Component({\r\n            selector: 'page-account',\r\n            templateUrl: 'account.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof App !== \"undefined\" && App) === \"function\" && _a || Object, typeof (_b = typeof NavController !== \"undefined\" && NavController) === \"function\" && _b || Object, typeof (_c = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _c || Object, typeof (_d = typeof SessionData !== \"undefined\" && SessionData) === \"function\" && _d || Object, typeof (_e = typeof GooglePlus !== \"undefined\" && GooglePlus) === \"function\" && _e || Object])\r\n    ], AccountPage);\r\n    return AccountPage;\r\n    var _a, _b, _c, _d, _e;\r\n}());\r\nexport { AccountPage };\r\n//# sourceMappingURL=account.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account/account.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NavController, NavParams, Tabs } from 'ionic-angular';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { MyHuntsPage } from '../my-hunts/my-hunts';\r\nimport { SearchPage } from '../search/search';\r\nimport { AccountPage } from '../account/account';\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\nimport { WelcomePage } from '../welcome/welcome';\r\nimport { SessionData } from '../../providers/session.data';\r\nvar TabsPage = (function () {\r\n    function TabsPage(navCtrl, params, translateService, sessionData, googlePlus) {\r\n        var _this = this;\r\n        this.navCtrl = navCtrl;\r\n        this.params = params;\r\n        this.translateService = translateService;\r\n        this.sessionData = sessionData;\r\n        this.googlePlus = googlePlus;\r\n        this.tab1Root = MyHuntsPage;\r\n        this.tab2Root = SearchPage;\r\n        this.tab3Root = AccountPage;\r\n        this.index = 0;\r\n        this.tab1Title = \"My Hunts\";\r\n        this.tab2Title = \"Search\";\r\n        this.tab3Title = \"Account\";\r\n        if (this.params.get('tabIndex')) {\r\n            this.index = this.params.get('tabIndex');\r\n        }\r\n        this.sessionData.hasLoggedIn().then(function (hasLoggedIn) {\r\n            if (hasLoggedIn !== true) {\r\n                _this.logout();\r\n            }\r\n        });\r\n        translateService.get(['TAB1_TITLE', 'TAB2_TITLE', 'TAB3_TITLE']).subscribe(function (values) {\r\n            _this.tab1Title = values['TAB1_TITLE'];\r\n            _this.tab2Title = values['TAB2_TITLE'];\r\n            _this.tab3Title = values['TAB3_TITLE'];\r\n        });\r\n    }\r\n    TabsPage.prototype.ionViewDidEnter = function () {\r\n        this.tabRef.select(this.index);\r\n    };\r\n    TabsPage.prototype.logout = function () {\r\n        this.sessionData.logout();\r\n        this.googlePlus.logout();\r\n        this.navCtrl.setRoot(WelcomePage);\r\n    };\r\n    __decorate([\r\n        ViewChild('myTabs'),\r\n        __metadata(\"design:type\", typeof (_a = typeof Tabs !== \"undefined\" && Tabs) === \"function\" && _a || Object)\r\n    ], TabsPage.prototype, \"tabRef\", void 0);\r\n    TabsPage = __decorate([\r\n        Component({\r\n            selector: 'page-tabs',\r\n            templateUrl: 'tabs.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_b = typeof NavController !== \"undefined\" && NavController) === \"function\" && _b || Object, typeof (_c = typeof NavParams !== \"undefined\" && NavParams) === \"function\" && _c || Object, typeof (_d = typeof TranslateService !== \"undefined\" && TranslateService) === \"function\" && _d || Object, typeof (_e = typeof SessionData !== \"undefined\" && SessionData) === \"function\" && _e || Object, typeof (_f = typeof GooglePlus !== \"undefined\" && GooglePlus) === \"function\" && _f || Object])\r\n    ], TabsPage);\r\n    return TabsPage;\r\n    var _a, _b, _c, _d, _e, _f;\r\n}());\r\nexport { TabsPage };\r\n//# sourceMappingURL=tabs.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component } from '@angular/core';\r\nimport { MenuController, NavController } from 'ionic-angular';\r\nimport { TabsPage } from '../tabs/tabs';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nvar TutorialPage = (function () {\r\n    function TutorialPage(navCtrl, menu, translate) {\r\n        var _this = this;\r\n        this.navCtrl = navCtrl;\r\n        this.menu = menu;\r\n        this.showSkip = true;\r\n        translate.get([\"TUTORIAL_SLIDE1_TITLE\",\r\n            \"TUTORIAL_SLIDE1_DESCRIPTION\",\r\n            \"TUTORIAL_SLIDE2_TITLE\",\r\n            \"TUTORIAL_SLIDE2_DESCRIPTION\",\r\n            \"TUTORIAL_SLIDE3_TITLE\",\r\n            \"TUTORIAL_SLIDE3_DESCRIPTION\",\r\n        ]).subscribe(function (values) {\r\n            console.log('Loaded values', values);\r\n            _this.slides = [\r\n                {\r\n                    title: values.TUTORIAL_SLIDE1_TITLE,\r\n                    description: values.TUTORIAL_SLIDE1_DESCRIPTION,\r\n                    image: 'assets/img/tutorial-splash.png',\r\n                },\r\n                //{\r\n                //  title: values.TUTORIAL_SLIDE2_TITLE,\r\n                //  description: values.TUTORIAL_SLIDE2_DESCRIPTION,\r\n                //  image: 'assets/img/ica-slidebox-img-2.png',\r\n                //},\r\n                {\r\n                    title: values.TUTORIAL_SLIDE3_TITLE,\r\n                    description: values.TUTORIAL_SLIDE3_DESCRIPTION,\r\n                    image: 'assets/img/Tutorial-steps.png',\r\n                }\r\n            ];\r\n        });\r\n    }\r\n    TutorialPage.prototype.startApp = function () {\r\n        this.navCtrl.setRoot(TabsPage, {}, {\r\n            animate: true,\r\n            direction: 'forward'\r\n        });\r\n    };\r\n    TutorialPage.prototype.onSlideChangeStart = function (slider) {\r\n        this.showSkip = !slider.isEnd();\r\n    };\r\n    TutorialPage.prototype.ionViewDidEnter = function () {\r\n        // the root left menu should be disabled on the tutorial page\r\n        this.menu.enable(false);\r\n    };\r\n    TutorialPage.prototype.ionViewWillLeave = function () {\r\n        // enable the root left menu when leaving the tutorial page\r\n        this.menu.enable(true);\r\n    };\r\n    TutorialPage = __decorate([\r\n        Component({\r\n            selector: 'page-tutorial',\r\n            templateUrl: 'tutorial.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof NavController !== \"undefined\" && NavController) === \"function\" && _a || Object, typeof (_b = typeof MenuController !== \"undefined\" && MenuController) === \"function\" && _b || Object, typeof (_c = typeof TranslateService !== \"undefined\" && TranslateService) === \"function\" && _c || Object])\r\n    ], TutorialPage);\r\n    return TutorialPage;\r\n    var _a, _b, _c;\r\n}());\r\nexport { TutorialPage };\r\n//# sourceMappingURL=tutorial.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tutorial/tutorial.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component, ViewChild, ChangeDetectorRef } from '@angular/core';\r\nimport { Platform, Nav, Config, Events, MenuController } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { TabsPage } from '../pages/tabs/tabs';\r\nimport { TutorialPage } from '../pages/tutorial/tutorial';\r\nimport { WelcomePage } from '../pages/welcome/welcome';\r\nimport { SessionData } from '../providers/session.data';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\nvar MyApp = (function () {\r\n    function MyApp(change, translate, platform, config, statusBar, splashScreen, events, menu, sessionData, googlePlus) {\r\n        var _this = this;\r\n        this.change = change;\r\n        this.translate = translate;\r\n        this.platform = platform;\r\n        this.config = config;\r\n        this.statusBar = statusBar;\r\n        this.splashScreen = splashScreen;\r\n        this.events = events;\r\n        this.menu = menu;\r\n        this.sessionData = sessionData;\r\n        this.googlePlus = googlePlus;\r\n        this.rootPage = TabsPage;\r\n        this.appPages = [\r\n            { title: 'Tutorial', component: TutorialPage, icon: 'bulb' }\r\n        ];\r\n        this.loggedInPages = [\r\n            { title: 'My Hunts', component: TabsPage, index: 0, icon: 'locate', notifications: 3 },\r\n            { title: 'Search', component: TabsPage, index: 1, icon: 'search' },\r\n            { title: 'Account', component: TabsPage, index: 2, icon: 'person' },\r\n            { title: 'Logout', component: WelcomePage, icon: 'log-out', logsOut: true }\r\n        ];\r\n        this.loggedOutPages = [\r\n            { title: 'Signup', component: WelcomePage, icon: 'log-in' }\r\n        ];\r\n        this.initTranslate();\r\n        this.sessionData.hasLoggedIn().then(function (hasLoggedIn) {\r\n            _this.enableLoggedInMenu(hasLoggedIn === true);\r\n            if (hasLoggedIn === true) {\r\n                _this.getUserData();\r\n                _this.nav.setRoot(TabsPage);\r\n            }\r\n        });\r\n        this.listenToLoginEvents();\r\n    }\r\n    MyApp.prototype.ionViewDidLoad = function () {\r\n        var _this = this;\r\n        this.platform.ready().then(function () {\r\n            // Okay, so the platform is ready and our plugins are available.\r\n            // Here you can do any higher level native things you might need.\r\n            _this.statusBar.styleDefault();\r\n            _this.splashScreen.hide();\r\n        });\r\n        this.getUserData();\r\n    };\r\n    MyApp.prototype.initTranslate = function () {\r\n        var _this = this;\r\n        // Set the default language for translation strings, and the current language.\r\n        this.translate.setDefaultLang('en');\r\n        if (this.translate.getBrowserLang() !== undefined) {\r\n            this.translate.use(this.translate.getBrowserLang());\r\n        }\r\n        else {\r\n            this.translate.use('en'); // Set your language here\r\n        }\r\n        this.translate.get(['BACK_BUTTON_TEXT']).subscribe(function (values) {\r\n            _this.config.set('ios', 'backButtonText', values.BACK_BUTTON_TEXT);\r\n        });\r\n    };\r\n    MyApp.prototype.openPage = function (page) {\r\n        // Reset the content nav to have just this page\r\n        // we wouldn't want the back button to show in this scenario\r\n        if (page.index) {\r\n            this.nav.setRoot(page.component, { tabIndex: page.index });\r\n        }\r\n        else {\r\n            this.nav.setRoot(page.component);\r\n        }\r\n        if (page.logsOut === true) {\r\n            this.events.publish('user:logout');\r\n            this.sessionData.logout();\r\n            this.googlePlus.logout();\r\n            this.user = null;\r\n            this.nav.setRoot(WelcomePage);\r\n        }\r\n    };\r\n    MyApp.prototype.listenToLoginEvents = function () {\r\n        var _this = this;\r\n        this.events.subscribe('user:login', function () {\r\n            _this.getUserData();\r\n            _this.enableLoggedInMenu(true);\r\n        });\r\n        this.events.subscribe('user:signup', function () {\r\n            _this.getUserData();\r\n            _this.enableLoggedInMenu(true);\r\n        });\r\n        this.events.subscribe('user:logout', function () {\r\n            _this.enableLoggedInMenu(false);\r\n        });\r\n    };\r\n    MyApp.prototype.ngAfterViewInit = function () {\r\n        this.getUserData();\r\n    };\r\n    MyApp.prototype.enableLoggedInMenu = function (loggedIn) {\r\n        this.menu.enable(loggedIn, 'loggedInMenu');\r\n        this.menu.enable(!loggedIn, 'loggedOutMenu');\r\n    };\r\n    MyApp.prototype.getUserData = function () {\r\n        var _this = this;\r\n        return this.sessionData.getUser().then(function (user) {\r\n            _this.user = user;\r\n            _this.change.detectChanges();\r\n            return;\r\n        });\r\n    };\r\n    __decorate([\r\n        ViewChild(Nav),\r\n        __metadata(\"design:type\", typeof (_a = typeof Nav !== \"undefined\" && Nav) === \"function\" && _a || Object)\r\n    ], MyApp.prototype, \"nav\", void 0);\r\n    MyApp = __decorate([\r\n        Component({\r\n            templateUrl: 'app.template.html'\r\n        }),\r\n        __metadata(\"design:paramtypes\", [typeof (_b = typeof ChangeDetectorRef !== \"undefined\" && ChangeDetectorRef) === \"function\" && _b || Object, typeof (_c = typeof TranslateService !== \"undefined\" && TranslateService) === \"function\" && _c || Object, typeof (_d = typeof Platform !== \"undefined\" && Platform) === \"function\" && _d || Object, typeof (_e = typeof Config !== \"undefined\" && Config) === \"function\" && _e || Object, typeof (_f = typeof StatusBar !== \"undefined\" && StatusBar) === \"function\" && _f || Object, typeof (_g = typeof SplashScreen !== \"undefined\" && SplashScreen) === \"function\" && _g || Object, typeof (_h = typeof Events !== \"undefined\" && Events) === \"function\" && _h || Object, typeof (_j = typeof MenuController !== \"undefined\" && MenuController) === \"function\" && _j || Object, typeof (_k = typeof SessionData !== \"undefined\" && SessionData) === \"function\" && _k || Object, typeof (_l = typeof GooglePlus !== \"undefined\" && GooglePlus) === \"function\" && _l || Object])\r\n    ], MyApp);\r\n    return MyApp;\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\r\n}());\r\nexport { MyApp };\r\n//# sourceMappingURL=app.component.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { NgModule, ErrorHandler } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\r\nimport { HttpModule } from '@angular/http';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { MyApp } from './app.component';\r\nimport { Configuration } from './app.constants';\r\nimport { MyHuntsPage } from '../pages/my-hunts/my-hunts';\r\nimport { HuntCreatePage } from '../pages/hunt-create/hunt-create';\r\nimport { HuntAddLocationsPage } from '../pages/hunt-add-locations/hunt-add-locations';\r\nimport { HuntDetailsPage } from '../pages/hunt-details/hunt-details';\r\nimport { LocationDetailsPage } from '../pages/location-details/location-details';\r\nimport { LocationListPage } from '../pages/location-list/location-list';\r\nimport { LocationAddPage } from '../pages/location-add/location-add';\r\nimport { LocationAddCluePage } from '../pages/location-add-hint/location-add-clue';\r\nimport { LocationQRCodePage } from '../pages/location-qrcode/location-qrcode';\r\nimport { AccountPage } from '../pages/account/account';\r\nimport { SearchPage } from '../pages/search/search';\r\nimport { TabsPage } from '../pages/tabs/tabs';\r\nimport { TutorialPage } from '../pages/tutorial/tutorial';\r\nimport { WelcomePage } from '../pages/welcome/welcome';\r\nimport { SessionData } from '../providers/session.data';\r\nimport { HuntService } from '../providers/hunt.service';\r\nimport { LocationService } from '../providers/location.service';\r\nimport { UserService } from '../providers/user.service';\r\nimport { Camera } from '@ionic-native/camera';\r\nimport { GoogleMaps } from '@ionic-native/google-maps';\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner';\r\nimport { Base64ToGallery } from '@ionic-native/base64-to-gallery';\r\nimport { Printer } from '@ionic-native/printer';\r\nimport { NgxQRCodeModule } from 'ngx-qrcode2';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\n// The translate loader needs to know where to load i18n files\r\n// in Ionic's static asset pipeline.\r\nexport function HttpLoaderFactory(http) {\r\n    return new TranslateHttpLoader(http, './assets/i18n/', '.json');\r\n}\r\nvar AppModule = (function () {\r\n    function AppModule() {\r\n    }\r\n    AppModule = __decorate([\r\n        NgModule({\r\n            declarations: [\r\n                MyApp,\r\n                MyHuntsPage,\r\n                HuntCreatePage,\r\n                HuntAddLocationsPage,\r\n                HuntDetailsPage,\r\n                LocationDetailsPage,\r\n                LocationListPage,\r\n                LocationAddPage,\r\n                LocationAddCluePage,\r\n                LocationQRCodePage,\r\n                AccountPage,\r\n                SearchPage,\r\n                TabsPage,\r\n                TutorialPage,\r\n                WelcomePage\r\n            ],\r\n            imports: [\r\n                BrowserModule,\r\n                HttpClientModule,\r\n                HttpModule,\r\n                NgxQRCodeModule,\r\n                TranslateModule.forRoot({\r\n                    loader: {\r\n                        provide: TranslateLoader,\r\n                        useFactory: HttpLoaderFactory,\r\n                        deps: [HttpClient]\r\n                    }\r\n                }),\r\n                IonicModule.forRoot(MyApp),\r\n                IonicStorageModule.forRoot()\r\n            ],\r\n            bootstrap: [IonicApp],\r\n            entryComponents: [\r\n                MyApp,\r\n                MyHuntsPage,\r\n                HuntCreatePage,\r\n                HuntAddLocationsPage,\r\n                HuntDetailsPage,\r\n                LocationDetailsPage,\r\n                LocationListPage,\r\n                LocationAddPage,\r\n                LocationAddCluePage,\r\n                LocationQRCodePage,\r\n                AccountPage,\r\n                SearchPage,\r\n                TabsPage,\r\n                TutorialPage,\r\n                WelcomePage\r\n            ],\r\n            providers: [\r\n                Camera,\r\n                GoogleMaps,\r\n                GooglePlus,\r\n                SplashScreen,\r\n                StatusBar,\r\n                BarcodeScanner,\r\n                Base64ToGallery,\r\n                Printer,\r\n                SessionData,\r\n                HuntService,\r\n                LocationService,\r\n                UserService,\r\n                Configuration,\r\n                // Keep this to enable Ionic's runtime error handling during development\r\n                { provide: ErrorHandler, useClass: IonicErrorHandler }\r\n            ]\r\n        })\r\n    ], AppModule);\r\n    return AppModule;\r\n}());\r\nexport { AppModule };\r\n//# sourceMappingURL=app.module.js.map\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts"]}